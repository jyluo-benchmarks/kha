<div class="row-fluid">

    <h1>Welcome {{ user.firstName }} {{ user.lastName }} ({{ user.email }})</h1>

    <h3>Devices</h3>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Device Name</th>
                <th>Device Type</th>
                <th>Device Status</th>
                <th>Number of Sensors</th>
                <th>Capabilities</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="device in devices" ng-click="selectDevice(device);">
                <td>{{ device.name }}</td>
                <td>{{ device.type }}</td>
                <td>{{ device.status }}</td>
                <td>{{ device.sensors.length }}</td>
                <td>{{ device.capabilities }}</td>
            </tr>
        </tbody>
    </table>

    <div ng-if="selectedDevice">
        <h3>Sensors</h3>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Sensor Name</th>
                    <th>Last Value</th>
                    <th>Last Measurement Date</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="sensor in selectedDevice.sensors">
                    <td>{{ sensor.name }}</td>
                    <td>{{ sensor.lastValue.value.value }} {{ sensor.lastValue.value.unit }}</td>
                    <td>{{ sensor.lastValue.at }}</td>
                </tr>
            </tbody>
        </table>
    </div>

</div>